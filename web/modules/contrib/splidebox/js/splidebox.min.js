!function(t,i){"use strict";var e="Splidebox",n=t.dBlazy;"function"==typeof define&&define.amd?define([e,n,Drupal,t],i):"object"==typeof exports?module.exports=i(e,n,Drupal,t):t[e]=i(e,n,Drupal,t)}(this||module||{},function(n,E,h,e){"use strict";var l,a,o,s=document,d="splide",c="."+d,u=d+"box",m="sbox",r="aria-hidden",f="playable",t="is-"+m,p=t+"-mounted",g=t+"-mounting",v="is-b-loading is-b-visible",i=t+"-playing",x=t+"-active",y=t+"-umounting",b=t+"-fullscreen",C=t+"-paginated",w=t+"-moved",z="is-zoomable",S=t+"-"+f,D=t+"-visible",T="is-captioned",j=t+"-ajaxed",M=!1,_="."+d+"__list",P="."+u+"__item",B="data-",I=B+u,t="media",H=B+m+"-"+t,A=u+"__img",O="srcset",W="sizes",k="html",L="template",V="audio",F="iframe",N="video",Z="img:not(.b-blur)",q="click",J="addClass",R="removeClass",U="b-provider--",G=!1,K=!1,Q=!1,X=!1,Y=E.sanitizer,$="overlay",tt="transitionend."+m,it={},et=[$,"content","caption","counter","closer","fullscreen"],nt={captionPos:$,layout:"bottom",trigger:"["+I+"-trigger]",skin:"",fsIconOn:"",template:"",dataSplide:{},init:!1},at={root:null,width:0,height:0,i:0,html:"",alt:"",caption:"",msrc:"",src:"",srcset:"",type:"",rect:{},ajax:""};function ot(t,i){var e=E.extend({},o,this);return e.name=n,e.options=E.extend({},nt,i),e.gallery=t,e.isSlider=E.hasClass(t,d)&&!E.hasClass(t,"is-carousel"),setTimeout(function(){it=E.windowSize(),function(t){bt(t),a=t.options.trigger;var i=t.gallery;i&&E.isElm(i)&&E.on(i,q,a,t.open.bind(t),!1)}(e)}),e}function st(){var t=function(){var i=this,e=i.root=ft(L,i.template(i.options));return E.each(et,function(t){i[t]=E.find(e,"."+u+"__"+t)}),e}.call(this),i=s.createDocumentFragment();xt(i,t),xt(s.body,i),E.addClass(t,g),E.addClass(this.content,v)}function rt(t){var i=this,e=i.options,n=i.slider,a={},o=i.root,s=i.index,r=1===i.count,a=E.extend({},e.dataSplide||{},{zoomRoot:o});return r&&E.addClass(o,"is-sbox-unsplide"),e.init&&(a.start=s,a.count=i.count,i.splide=G=e.init(n,a)),M=M||E.hasClass(o,g),setTimeout(function(){G&&(G.go(s),i.curr=G.Components.Slides.getAt(s),i.currData=i.items[s],function(){var i=this,e=i.root,t=i.currBox=i.toBox();if(t&&!t.hasImg)return;t.initial=!0,pt(i,t),i.zoom("off");var n=i.clone;if(!n)return void(i.shouldPreload=!1);var a=!1,o=function(){var t=n.style;t.transform="translate3d(0, 0, 0) scale3d(1, 1, 1)",t.opacity=0,E.removeClass(e,g),M=!1,E.off(n,tt,o),E.remove(n),i.clone=null,i.zoom("on"),E.addClass(e,x),a=!0};E.on(n,tt,o),setTimeout(function(){a||o()},1200),i.shouldPreload=!0}.call(i),G.on("ready."+m,function(t){E.removeClass(i.content,v)}),G.on("active."+m,function(t){i.index=G.index,i.curr=t,i.currData=i.items[i.index],function(){var e=this,n=e.root;setTimeout(function(){var t=e.currBox,i=t.img.el;t.isValid&&E.isElm(i)?E.equal(i,"img")&&(i.complete?lt.call(e):E.on(i,"load",lt.bind(e))):(E.removeClass(n,g),E.addClass(n,x))})}.call(i),function(){var t=this,i=t.options,e=t.caption,n=t.currData,a=E.isObj(n)&&n.caption&&!n.ajax;E.isElm(e)&&i.captionPos===$&&(e.innerHTML=a?Y.sanitize(n.caption):"",E[a?J:R](e,T));t.counter&&(t.counter.innerText=t.index+1+"/"+t.splide.length)}.call(i);t=i.currData.provider;E.attr(o,H,i.currData.type),l&&E.removeClass(o,U+l),t&&E.addClass(o,U+t),E[i.currData.ajax?J:R](o,j),E[i.currData.display===f?J:R](o,S),l=t}),G.on("moved."+m,function(){(function(){var i=this.root;setTimeout(function(){E.removeAttr(i,B+"scale");var t=E.findAll(i,P);t.length&&E.each(t,function(t){t.style.transform="",E.removeClass(t,w)},100)})}).call(i)}),setTimeout(function(){r&&G.destroy()},100))}),G}function lt(){var t=it,i=this.currBox,e=i.img.el,n=E.rect(e),a=E.outerWidth(e,!0),o=E.outerHeight(e,!0);pt(this,i=E.extend({},i,{initial:!1,img:{el:e,width:a,height:o,left:n.left,top:n.top,rect:n}}));var s=i.img,r=Math.abs(1),e=Math.abs(1),n=(1-r)*t.width+ +t.width/2-s.left-.5*a,i=(1-e)*t.height+ +t.height/2-s.top-.5*o,o=Math.min(Math.min(t.width*r,+s.width)/a,Math.min(t.height*e,+s.height)/o);n+=4,this.clone.style.transform="translate3d("+n+"px, "+i+"px, 0) scale3d("+o+", "+o+", 1)"}function dt(t){var i=this;setTimeout(function(){(function(){var t=this.splide;{var i;t&&t.Components&&(i=t.Components,!K&&"xFullScreen"in i&&(K=i.xFullScreen,t={element:this.root,className:b},K.init(t)),!Q&&"xMedia"in i&&(Q=i.xMedia),!X&&"xZoom"in i&&(X=i.xZoom))}}).call(i);var t=i.splide;t&&t.refresh()})}function ct(){var t=this,i=t.options;t.count&&i.template&&(st.call(t),(i=new Promise(function(t,i){var e=this,n=e.options,a=e.content,o=ft(L,n.template),s=o;try{E.hasClass(o,d+"-wrapper")&&(s=E.find(o,"> "+c)),E.removeClass(s,d+"--main"),E.attr(s,"data-"+d,JSON.stringify(n.dataSplide))}catch(t){}xt(a,s),n.dataSplide.pagination&&E.addClass(e.root,C);var r=e.list=E.find(a,_);e.slider=E.find(a,c),E.isElm(r)?(r.innerHTML="",E.each(e.items,function(t){e.addSlide(t)}),t(r)):i()}.bind(t))).then(rt.bind(t)),i.then(dt.bind(t)))}function ut(t){E.toggleClass(t.target,D)}function ht(){E.addClass(this.root,i)}function mt(){E.removeClass(this.root,i)}function ft(t,i,e,n,a){a=a||"";i=E.create(t||"div",e,i);return n&&a&&("prepend"===a?n.insertBefore(i,n.childNodes[0]||null):"append"===a?xt(n,i):"next"===a&&n.insertAdjacentElement("afterend",i)),i}function pt(t,i){var e=t.clone,n=i.img,a=i.tn,o=n.height,s=n.width,r=n.left,n=n.top;!i.initial&&e||(e=ft("div",null,u+"__clone",t.overlay,"next"),o=a.height,s=a.width,r=a.left,n=a.top),e&&((i=e.style).height=o+"px",i.width=s+"px",i.left=r+"px",i.top=n+"px",i.backgroundImage="url("+a.src+")",t.clone=e)}function gt(t,i){return t.split(i+'="').pop().split('"')[0]}function vt(t){var i=t.splide,e=t.root;i&&(function(){Q&&Q.close()}.call(t),X=Q=K=!1,i.destroy(!0),i=null),E.isElm(e)&&(E.attr(e,r,!0),E.remove(e))}function xt(t,i){E.isElm(t)&&(E.isElm(i)?t.appendChild(i):E.append(t,i))}function yt(t){var i=this;i.index=t,ct.call(i),function(){var t=this,i=t.close.bind(t);E.on(t.closer,q,i),E.on(t.overlay,q,i),E.on(t.caption,q,ut),E.on(e,"blazy:mediaPlaying",ht.bind(t)),E.on(e,"blazy:mediaStopped",mt.bind(t))}.call(i),t=i.root,E.isElm(t)&&(E.addClass(t,p),E.attr(t,r,!1),setTimeout(function(){E.removeClass(i.content,v)},1200))}function bt(i){i.root=null,E.each(et,function(t){i[t]=null}),i.index=0,i.count=0,i.items=[],i.list=null,i.slider=null,i.triggers=[],i.shouldPreload=!1,i.splide=null,i.curr=null,i.currBox={img:{},tn:{}},i.currData={}}return(o=ot.prototype).constructor=ot,o.getIndex=function(e){var n=0;return this.items.length&&E.each(this.items,function(t,i){if(t.element&&t.element===e)return n=i}),n},o.toData=function(t){var i=this.options,e=E.parse(E.attr(t,"data-b-media data-media")),n=E.find(t,".media"),a=E.attr(t,"href"),o=E.attr(t,B+"box-url",a,!0),s=E.find(t,Z),r=t.nextElementSibling,l=E.hasClass(r,"visually-hidden")?r:null,d=E.rect(t),c=E.attr(t,B+"b-ajax"),u="",a=e.boxType||"",r=a,s=E.attr(s,"alt");[F,V,N].includes(a)&&(r=f),c&&(r=k);i={element:t,width:E.toInt(e.width,640),height:E.toInt(e.height,360),i:this.getIndex(t),alt:Y.sanitize(s),caption:E.isElm(l)?l.innerHTML:"",msrc:E.attr(n,"data-b-thumb data-thumb"),provider:e.provider,type:a,rect:d,isPicture:!1,ajax:c,ajaxOnly:c&&i.ajaxOnly||!1,display:r};return k in e?(u=e.html,e.encoded&&(u=atob(u)),r=E.contains(u,O),e=E.contains(u,"<picture"),i.isPicture=e,r&&!e?(i.srcset=gt(u,O),i.src=gt(u,"src"),i.sizes=gt(u,W)):([V,N].includes(a)&&(i.src=o),i.html=this.htmlWrapper({html:u,data:i}))):a===F?i.html=h.theme("blazyMedia",{el:t}):i.src=o,E.extend({},at,i)},o.addSlide=function(t){var i=this.list,e=this.toSlide(t);E.isElm(i)&&(xt(i,e),t.slide=e,E.trigger(this.slider,u+":added",{data:t}))},o.toSlide=function(t){var i,e;t.html?o=t.html:t.src&&(o=(n=(a=(i=t).ajax?"":" "+z,e=ft("img",null,A+a),a=["alt","src",O,W,"height","width"],e.decoding="async",e.loading="lazy",E.each(a,function(t){t in i&&i[t]&&(e[t]=i[t])}),e)).outerHTML);var n,a=this.slideWrapper({html:o,data:t}),o=ft(L,a),a=E.find(o,"picture");return E.isElm(a)&&!t.ajax&&(t=it,n=E.find(a,"img"),E.addClass(a,"is-centered"),E.addClass(n,A+" "+z),E.attr(n,"loading","lazy"),E.attr(n,"width",t.width-32),E.attr(n,"height",t.height-22)),o},o.toBox=function(){var t=this,i=t.currData||t.items[t.index];if(E.isUnd(i))return{};var e,n,a,o,s,r,l,d,c=i.element,u=(E.isEmpty(t.curr)?i:t.curr).slide,h=E.find(u,Z),m=E.find(c,Z),f=t.isSlider?t.gallery:m,p=0,g=0,v=0,x=0,y={},b=""!==i.ajax,C=i.type===F,w=i.type===N,z={};E.isElm(h)||(d=E.find(u,N),E.attr(d,"poster")&&(h=d)),E.isElm(h)&&(y=E.rect(h),p=E.outerHeight(h),g=E.outerWidth(h),v=y.left,x=y.top),E.isElm(f)&&(e=f,n=g,a=i.msrc||m.src,o=it.width,s=it.height,r=E.rect(e),l=E.outerHeight(e),c=E.outerWidth(e),u=r.left,d=r.top,f=Math.abs(1),i=Math.abs(1),z={el:e,src:a,x:u+c/2-((1-f)*o+ +o/2),y:d+l/2-((1-i)*s+ +s/2),z:c/n,height:l,width:c,left:u,top:d,rect:r});z={hasImg:E.isElm(h),hasTn:E.isElm(m),isAjax:b,isValid:E.isElm(h)&&E.isElm(m),isIframe:C,isVideo:w,isPlayable:C||w,img:{el:h,height:p,width:g,left:v,top:x,rect:y},tn:z};return t.currBox=z},o.zoom=function(t){X&&X[t]()},o.destroy=function(){var i=this,t=i.root;E.addClass(t,y);var e,n,a=i.toBox();a&&a.isValid&&(e=a.img.el)?(a=(t=a.tn).z,i.zoom("off"),E.addClass(e,u+"__trans"),e.style.transform="translate3d("+t.x+"px, "+t.y+"px, 0) scale3d("+a+", "+a+", 1)",n=!1,E.one(e,tt,function(t){e.style.transform="translate3d(0,0,0) scale3d(1,1,1)",n=!0,vt(i)}),E.off("blazy:mediaPlaying",ht.bind(i)),E.off("blazy:mediaStopped",mt.bind(i)),setTimeout(function(){n||vt(i)},800)):vt(i)},o.close=function(){if(E.hasClass(this.root,b))return K&&this.fullscreen.click(),!1;this.destroy()},o.open=function(t){var n=this;t.preventDefault(),t.stopPropagation(),M=!0,bt(n);var i=t.target,t=E.closest(i,"a"),t=E.attr(t,"href")?t:E.closest(i,a),i=[];E.isStr(a)&&(i=E.findAll(n.gallery,a)),n.count=i.length,n.triggers=i,n.count&&E.each(i,function(t,i){var e=E.closest(t,c+"__slide--clone");E.isElm(e)||((t=n.toData(t)).i=i,n.items.push(t))}),t=n.getIndex(t),yt.call(n,t)},ot.init=function(t,i){return t.splidebox||(t.splidebox=new ot(t,i)),t.splidebox},ot});
